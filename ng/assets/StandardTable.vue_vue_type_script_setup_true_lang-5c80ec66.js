import{d as I,H as Ve,x as re,o as r,c as u,C as we,I as h,_ as Pe,b as s,t as m,k as D,r as S,B as x,F as A,J as Ee,E as X,w as U,f as $,K as G,L as ee,e as E,M as je,N as Le,O as Fe,P as xe,v as se,j as Ze,Q as Je,a as Ge,z as Ke,i as We,u as Xe,y as Ye,D as Y}from"./index-e1ea6d83.js";import{R as Q}from"./Response-5667ccaa.js";import{_ as Qe}from"./ButtonForm.vue_vue_type_script_setup_true_lang-62ac85a7.js";import{I as et}from"./IconLoading-a32557f0.js";const tt=I({__name:"ButtonIcon",props:{typeClass:String},emits:["actionCallback"],setup(g,{emit:v}){const e=g,C=v,t=Ve({"w-full":!0,btn:!0,"btn-sm":!0});return re(()=>{t[e.typeClass]=!0}),(f,n)=>(r(),u("button",{class:h(t),onClick:n[0]||(n[0]=()=>C("actionCallback"))},[we(f.$slots,"icon")],2))}}),lt={},at={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt=s("path",{d:"M3 6.38597C3 5.90152 3.34538 5.50879 3.77143 5.50879L6.43567 5.50832C6.96502 5.49306 7.43202 5.11033 7.61214 4.54412C7.61688 4.52923 7.62232 4.51087 7.64185 4.44424L7.75665 4.05256C7.8269 3.81241 7.8881 3.60318 7.97375 3.41617C8.31209 2.67736 8.93808 2.16432 9.66147 2.03297C9.84457 1.99972 10.0385 1.99986 10.2611 2.00002H13.7391C13.9617 1.99986 14.1556 1.99972 14.3387 2.03297C15.0621 2.16432 15.6881 2.67736 16.0264 3.41617C16.1121 3.60318 16.1733 3.81241 16.2435 4.05256L16.3583 4.44424C16.3778 4.51087 16.3833 4.52923 16.388 4.54412C16.5682 5.11033 17.1278 5.49353 17.6571 5.50879H20.2286C20.6546 5.50879 21 5.90152 21 6.38597C21 6.87043 20.6546 7.26316 20.2286 7.26316H3.77143C3.34538 7.26316 3 6.87043 3 6.38597Z",fill:"currentColor"},null,-1),ot=s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.5956 22H12.4044C15.1871 22 16.5785 22 17.4831 21.1141C18.3878 20.2281 18.4803 18.7749 18.6654 15.8685L18.9321 11.6806C19.0326 10.1036 19.0828 9.31511 18.6289 8.81545C18.1751 8.31579 17.4087 8.31579 15.876 8.31579H8.12404C6.59127 8.31579 5.82488 8.31579 5.37105 8.81545C4.91722 9.31511 4.96744 10.1036 5.06788 11.6806L5.33459 15.8685C5.5197 18.7749 5.61225 20.2281 6.51689 21.1141C7.42153 22 8.81289 22 11.5956 22ZM15.2463 12.3456C15.2875 11.9117 14.9868 11.5249 14.5746 11.4815C14.1625 11.4381 13.7949 11.7546 13.7537 12.1885L13.2537 17.4516C13.2125 17.8855 13.5132 18.2724 13.9254 18.3157C14.3375 18.3591 14.7051 18.0426 14.7463 17.6087L15.2463 12.3456ZM9.42537 11.4815C9.83753 11.4381 10.2051 11.7546 10.2463 12.1885L10.7463 17.4516C10.7875 17.8855 10.4868 18.2724 10.0746 18.3157C9.66247 18.3591 9.29494 18.0426 9.25372 17.6087L8.75372 12.3456C8.71251 11.9117 9.01321 11.5249 9.42537 11.4815Z",fill:"currentColor"},null,-1),it=[nt,ot];function st(g,v){return r(),u("svg",at,it)}const rt=Pe(lt,[["render",st]]),ut={key:0,class:"badge bg-success uppercase text-white p-2 cursor-pointer"},ct={key:1,class:"badge bg-dark uppercase text-white p-2 cursor-pointer"},dt=I({__name:"SpanStatus",props:{status:Boolean},setup(g){return(v,e)=>g.status==1?(r(),u("span",ut,m(v.$t("active")),1)):(r(),u("span",ct,m(v.$t("inactive")),1))}});class vt{static toRead(v){if(v==null)return"--/--/----";try{const e=new Date(v);return`${e.getDate()}/${e.getMonth()+1}/${e.getFullYear()}`}catch{return"00/00/0000"}}}const _e=I({__name:"ReadableDate",props:{date:String},setup(g){return(v,e)=>(r(),u("span",null,m(D(vt).toRead(g.date)),1))}}),ht={key:0,class:"flex flex-col gap-1 mt-3"},pt={class:"flex flex-row gap-1"},mt={class:"flex flex-row gap-1"},ft={class:"flex flex-row gap-1"},bt=I({__name:"HelpTables",setup(g){const v=S(!1);return(e,C)=>(r(),u(A,null,[s("button",{onMouseover:C[0]||(C[0]=t=>v.value=!0),onMouseleave:C[1]||(C[1]=t=>v.value=!1),class:"btn btn-outline-warning btn-sm"}," ? ",32),v.value?(r(),u("div",ht,[s("div",pt,[s("b",null,m(e.$t("status")),1),s("p",null,m(e.$t("status-help-text")),1)]),s("div",mt,[s("b",null,m(e.$t("see-more")),1),s("p",null,m(e.$t("see-more-help-text")),1)]),s("div",ft,[s("b",null,m(e.$t("trash-icon")),1),s("p",null,m(e.$t("trash-icon-help-text")),1)])])):x("",!0)],64))}}),gt={class:"bh-filter-menu bh-absolute bh-z-[1] bh-bg-white bh-shadow-md bh-rounded-md bh-top-full bh-right-0 bh-w-32 bh-mt-1"},Ct=["onClick"],kt=I({__name:"column-filter",props:["column","columnFilterLang"],emits:["close","filterChange"],setup(g,{emit:v}){const e=g;Je(()=>{document.removeEventListener("click",C)}),re(()=>{document.addEventListener("click",C)});const C=()=>{v("close")},t=f=>{e.column.condition=f,f===""&&(e.column.value=""),v("filterChange",e.column)};return(f,n)=>{var d,p,j,z,Z,N,q,w,L,F,R,T,te,H,K,V,le,ae,M;return r(),u("div",gt,[s("div",{class:"bh-text-[13px] bh-font-normal bh-rounded bh-overflow-hidden",onClick:ee(C,["stop"])},[s("button",{type:"button",class:h({active:e.column.condition===""}),onClick:n[0]||(n[0]=_=>t(""))},m((d=e.columnFilterLang&&e.columnFilterLang.no_filter)!=null?d:"No filter"),3),e.column.type==="string"?(r(),u(A,{key:0},[s("button",{type:"button",class:h({active:e.column.condition==="contain"}),onClick:n[1]||(n[1]=_=>t("contain"))},m((p=e.columnFilterLang&&e.columnFilterLang.contain)!=null?p:"Contain"),3),s("button",{type:"button",class:h({active:e.column.condition==="not_contain"}),onClick:n[2]||(n[2]=_=>t("not_contain"))},m((j=e.columnFilterLang&&e.columnFilterLang.not_contain)!=null?j:"Not contain"),3),s("button",{type:"button",class:h({active:e.column.condition==="equal"}),onClick:n[3]||(n[3]=_=>t("equal"))},m((z=e.columnFilterLang&&e.columnFilterLang.equal)!=null?z:"Equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="not_equal"}),onClick:n[4]||(n[4]=_=>t("not_equal"))},m((Z=e.columnFilterLang&&e.columnFilterLang.not_equal)!=null?Z:"Not equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="start_with"}),onClick:n[5]||(n[5]=_=>t("start_with"))},m((N=e.columnFilterLang&&e.columnFilterLang.start_with)!=null?N:"Starts with"),3),s("button",{type:"button",class:h({active:e.column.condition==="end_with"}),onClick:n[6]||(n[6]=_=>t("end_with"))},m((q=e.columnFilterLang&&e.columnFilterLang.end_with)!=null?q:"Ends with"),3)],64)):e.column.type==="number"?(r(),u(A,{key:1},[s("button",{type:"button",class:h({active:e.column.condition==="equal"}),onClick:n[7]||(n[7]=_=>t("equal"))},m((w=e.columnFilterLang&&e.columnFilterLang.equal)!=null?w:"Equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="not_equal"}),onClick:n[8]||(n[8]=_=>t("not_equal"))},m((L=e.columnFilterLang&&e.columnFilterLang.not_equal)!=null?L:"Not equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="greater_than"}),onClick:n[9]||(n[9]=_=>t("greater_than"))},m((F=e.columnFilterLang&&e.columnFilterLang.greater_than)!=null?F:"Greater than"),3),s("button",{type:"button",class:h({active:e.column.condition==="greater_than_equal"}),onClick:n[10]||(n[10]=_=>t("greater_than_equal"))},m((R=e.columnFilterLang&&e.columnFilterLang.greater_than_equal)!=null?R:"Greater than or equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="less_than"}),onClick:n[11]||(n[11]=_=>t("less_than"))},m((T=e.columnFilterLang&&e.columnFilterLang.less_than)!=null?T:"Less than"),3),s("button",{type:"button",class:h({active:e.column.condition==="less_than_equal"}),onClick:n[12]||(n[12]=_=>t("less_than_equal"))},m((te=e.columnFilterLang&&e.columnFilterLang.less_than_equal)!=null?te:"Less than or equal"),3)],64)):e.column.type==="date"?(r(),u(A,{key:2},[s("button",{type:"button",class:h({active:e.column.condition==="equal"}),onClick:n[13]||(n[13]=_=>t("equal"))},m((H=e.columnFilterLang&&e.columnFilterLang.equal)!=null?H:"Equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="not_equal"}),onClick:n[14]||(n[14]=_=>t("not_equal"))},m((K=e.columnFilterLang&&e.columnFilterLang.not_equal)!=null?K:"Not equal"),3),s("button",{type:"button",class:h({active:e.column.condition==="greater_than"}),onClick:n[15]||(n[15]=_=>t("greater_than"))},m((V=e.columnFilterLang&&e.columnFilterLang.greater_than)!=null?V:"Greater than"),3),s("button",{type:"button",class:h({active:e.column.condition==="less_than"}),onClick:n[16]||(n[16]=_=>t("less_than"))},m((le=e.columnFilterLang&&e.columnFilterLang.less_than)!=null?le:"Less than"),3)],64)):x("",!0),s("button",{type:"button",class:h({active:e.column.condition==="is_null"}),onClick:n[17]||(n[17]=_=>t("is_null"))},m((ae=e.columnFilterLang&&e.columnFilterLang.is_null)!=null?ae:"Is null"),3),s("button",{type:"button",class:h({active:e.column.condition==="is_not_null"}),onClick:n[18]||(n[18]=_=>t("is_not_null"))},m((M=e.columnFilterLang&&e.columnFilterLang.is_not_null)!=null?M:"Not null"),3)],8,Ct)])}}}),ue=(g,v)=>{const e=g.__vccOpts||g;for(const[C,t]of v)e[C]=t;return e},_t={},yt={version:"1.1",viewBox:"0 0 17 12",xmlns:"http://www.w3.org/2000/svg"},wt=s("g",{fill:"none","fill-rule":"evenodd"},[s("g",{transform:"translate(-9 -11)",fill:"currentColor","fill-rule":"nonzero"},[s("path",{d:"m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z"})])],-1),Lt=[wt];function Ft(g,v){return r(),u("svg",yt,Lt)}const Se=ue(_t,[["render",Ft]]),xt={},St={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"3",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},Mt=s("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),qt=[Mt];function $t(g,v){return r(),u("svg",St,qt)}const Bt=ue(xt,[["render",$t]]),At={},zt={viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"1.5",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},Dt=s("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},null,-1),Nt=[Dt];function Rt(g,v){return r(),u("svg",zt,Nt)}const Tt=ue(At,[["render",Rt]]),Ht={key:"hdrrow"},Ot={class:"bh-checkbox"},Ut=["onClick"],It={width:"16",height:"16",viewBox:"0 0 14 14",fill:"none"},Vt={key:0,class:"bh-filter bh-relative"},Pt=["onUpdate:modelValue"],Et=["onUpdate:modelValue"],jt=["onUpdate:modelValue"],Zt=["onUpdate:modelValue"],Jt=s("option",{value:void 0},"All",-1),Gt=s("option",{value:!0},"True",-1),Kt=s("option",{value:!1},"False",-1),Wt=[Jt,Gt,Kt],Xt=["onClick"],ye=I({__name:"column-header",props:["all","currentSortColumn","currentSortDirection","isOpenFilter","isFooter","checkAll","columnFilterLang"],emits:["selectAll","sortChange","filterChange","toggleFilterMenu"],setup(g,{emit:v}){const e=g,C=S(null);return U(()=>e.checkAll,()=>{C.value&&(C.value.indeterminate=e.checkAll!==0?!e.checkAll:!1,C.value.checked=e.checkAll)}),(t,f)=>(r(),u("tr",Ht,[e.all.hasCheckbox?(r(),u("th",{key:"chkall",class:h(["bh-w-px",{"bh-sticky bh-bg-blue-light bh-z-[1]":e.all.stickyHeader||e.all.stickyFirstColumn,"bh-top-0":e.all.stickyHeader,"bh-left-0":e.all.stickyFirstColumn}])},[s("div",Ot,[s("input",{ref_key:"selectedAll",ref:C,type:"checkbox",onClick:f[0]||(f[0]=ee(n=>v("selectAll",n.target.checked),["stop"]))},null,512),s("div",null,[$(Se,{class:"check"}),$(Bt,{class:"intermediate"})])])],2)):x("",!0),(r(!0),u(A,null,G(e.all.columns,(n,d)=>(r(),u(A,null,[n.hide?x("",!0):(r(),u("th",{key:n.field,class:h(["bh-select-none bh-z-[1]",[e.all.sortable&&n.sort?"bh-cursor-pointer":"",d===0&&e.all.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",e.all.hasCheckbox&&d===0&&e.all.stickyFirstColumn?"bh-left-[52px]":""]]),style:Fe({width:n.width,"min-width":n.minWidth,"max-width":n.maxWidth})},[s("div",{class:h(["bh-flex bh-items-center",[n.headerClass?n.headerClass:""]]),onClick:p=>e.all.sortable&&n.sort&&v("sortChange",n.field)},[Le(m(n.title)+" ",1),e.all.sortable&&n.sort?(r(),u("span",{key:0,class:h(["bh-ml-3 bh-sort bh-flex bh-items-center",[e.currentSortColumn,e.currentSortDirection]])},[(r(),u("svg",It,[s("polygon",{points:"3.11,6.25 10.89,6.25 7,1.75 ",fill:"currentColor",class:h(["bh-text-black/20",[g.currentSortColumn===n.field&&g.currentSortDirection==="asc"?"!bh-text-primary":""]])},null,2),s("polygon",{points:"7,12.25 10.89,7.75 3.11,7.75 ",fill:"currentColor",class:h(["bh-text-black/20",[g.currentSortColumn===n.field&&g.currentSortDirection==="desc"?"!bh-text-primary":""]])},null,2)]))],2)):x("",!0)],10,Ut),e.all.columnFilter&&!e.isFooter?(r(),u(A,{key:0},[n.filter?(r(),u("div",Vt,[n.type==="string"?E((r(),u("input",{key:0,"onUpdate:modelValue":p=>n.value=p,type:"text",class:"bh-form-control",onKeyup:f[1]||(f[1]=p=>v("filterChange"))},null,40,Pt)),[[se,n.value,void 0,{trim:!0}]]):x("",!0),n.type==="number"?E((r(),u("input",{key:1,"onUpdate:modelValue":p=>n.value=p,type:"number",class:"bh-form-control",onKeyup:f[2]||(f[2]=p=>v("filterChange"))},null,40,Et)),[[se,n.value,void 0,{number:!0,trim:!0}]]):n.type==="date"?E((r(),u("input",{key:2,"onUpdate:modelValue":p=>n.value=p,type:"date",class:"bh-form-control",onChange:f[3]||(f[3]=p=>v("filterChange"))},null,40,jt)),[[se,n.value]]):n.type==="bool"?E((r(),u("select",{key:3,"onUpdate:modelValue":p=>n.value=p,class:"bh-form-control",onChange:f[4]||(f[4]=p=>v("filterChange")),onClick:f[5]||(f[5]=p=>e.isOpenFilter=null)},Wt,40,Zt)),[[xe,n.value]]):x("",!0),n.type!=="bool"?(r(),u("button",{key:4,type:"button",onClick:ee(p=>v("toggleFilterMenu",n),["stop"])},[$(Tt,{class:"bh-w-4"})],8,Xt)):x("",!0),E($(kt,{column:n,type:n.type,columnFilterLang:e.columnFilterLang,onClose:f[6]||(f[6]=p=>v("toggleFilterMenu",null)),onFilterChange:f[7]||(f[7]=p=>v("filterChange"))},null,8,["column","type","columnFilterLang"]),[[Ze,e.isOpenFilter===n.field]])])):x("",!0)],64)):x("",!0)],6))],64))),256))]))}}),Yt={},Qt={width:"84",height:"84",viewBox:"0 0 24 24",class:"bh-loader bh-text-primary"},el=Ge('<circle cx="18" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".67" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".33" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="6" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle>',3),tl=[el];function ll(g,v){return r(),u("svg",Qt,tl)}const al=ue(Yt,[["render",ll]]),nl={class:"bh-datatable bh-antialiased bh-relative bh-text-black bh-text-sm bh-font-normal"},ol=["onClick"],il={class:"bh-checkbox"},sl=["value"],rl=["innerHTML"],ul={key:1},cl=["colspan"],dl=["colspan"],vl=s("div",{class:"bh-skeleton-box bh-h-8"},null,-1),hl=[vl],pl={key:0,class:"bh-absolute bh-inset-0 bh-bg-blue-light/50 bh-grid bh-place-content-center"},ml={class:"bh-flex bh-items-center bh-flex-wrap bh-flex-col sm:bh-flex-row bh-gap-4"},fl={class:"bh-pagination-info bh-flex bh-items-center"},bl={class:"bh-mr-2"},gl=["value"],Cl={class:"bh-pagination-number sm:bh-ml-auto bh-inline-flex bh-items-center bh-space-x-1"},kl=["innerHTML"],_l={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},yl=s("g",{fill:"currentColor","fill-rule":"evenodd"},[s("path",{d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}),s("path",{d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})],-1),wl=[yl],Ll=["innerHTML"],Fl={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},xl=s("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1),Sl=[xl],Ml=["onClick"],ql=["innerHTML"],$l={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Bl=s("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},null,-1),Al=[Bl],zl=["innerHTML"],Dl={key:1,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 16 16"},Nl=s("g",{fill:"currentColor","fill-rule":"evenodd"},[s("path",{d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8L3.646 2.354a.5.5 0 0 1 0-.708z"}),s("path",{d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8L7.646 2.354a.5.5 0 0 1 0-.708z"})],-1),Rl=[Nl],Tl=I({__name:"custom-table",props:{loading:{type:Boolean,default:!1},isServerMode:{type:Boolean,default:!1},skin:{default:"bh-table-striped bh-table-hover"},totalRows:{default:0},rows:{default:()=>[]},columns:{default:()=>[]},hasCheckbox:{type:Boolean,default:!1},search:{default:""},columnChooser:{type:Boolean,default:!1},page:{default:1},pageSize:{default:10},pageSizeOptions:{default:()=>[10,20,30,50,100]},showPageSize:{type:Boolean,default:!0},rowClass:{default:[]},cellClass:{default:[]},sortable:{type:Boolean,default:!1},sortColumn:{default:"id"},sortDirection:{default:"asc"},columnFilter:{type:Boolean,default:!1},columnFilterLang:{default:null},pagination:{type:Boolean,default:!0},showNumbers:{type:Boolean,default:!0},showNumbersCount:{default:5},showFirstPage:{type:Boolean,default:!0},showLastPage:{type:Boolean,default:!0},firstArrow:{default:""},lastArrow:{default:""},nextArrow:{default:""},previousArrow:{default:""},paginationInfo:{default:"Showing {0} to {1} of {2} entries"},noDataContent:{default:"No data available"},stickyHeader:{type:Boolean,default:!1},height:{default:"500px"},stickyFirstColumn:{type:Boolean,default:!1},cloneHeaderInFooter:{type:Boolean,default:!1},selectRowOnClick:{type:Boolean,default:!1}},emits:["change","sortChange","searchChange","pageChange","pageSizeChange","rowSelect","filterChange","rowClick","rowDBClick"],setup(g,{expose:v,emit:e}){var C;const t=g,f=Ee();for(const l of t.columns||[]){const i=((C=l.type)==null?void 0:C.toLowerCase())||"string";l.type=i,l.isUnique=l.isUnique!==void 0?l.isUnique:!1,l.hide=l.hide!==void 0?l.hide:!1,l.filter=l.filter!==void 0?l.filter:!0,l.search=l.search!==void 0?l.search:!0,l.sort=l.sort!==void 0?l.sort:!0,l.html=l.html!==void 0?l.html:!1,l.condition=!i||i==="string"?"contain":"equal"}const n=S([]),d=S(t.page),p=S(t.pagination?t.pageSize:t.rows.length),j=t.pageSize,z=S(t.sortColumn),Z=t.sortColumn,N=S(t.sortDirection),q=t.sortDirection,w=S(t.totalRows),L=S([]),F=S(null),R=S(t.loading),T=S(t.search),te=JSON.parse(JSON.stringify(t.columns)),H=S(null),K=S(null);let V=S(0);const le=S(230);re(()=>{P()}),v({reset(){Ne()},getSelectedRows(){return Re()},getColumnFilters(){return Te()},clearSelectedRows(){return He()},selectRow(l){ge(l)},unselectRow(l){Ce(l)},isRowSelected(l){return oe(l)},getFilteredRows(){return he()}});const ae=(l,...i)=>l.replace(/{(\d+)}/g,(a,k)=>typeof i[k]<"u"?i[k]:a),M=X(()=>{const l=t.columns.find(i=>i.isUnique);return(l==null?void 0:l.field)||null}),_=X(()=>{const l=p.value<1?1:Math.ceil(w.value/p.value);return Math.max(l||0,1)}),de=X(()=>(d.value-1)*p.value+1),ve=X(()=>{const l=d.value*p.value;return w.value>=l?l:w.value}),Me=X(()=>{let l,i;return typeof t.showNumbersCount<"u"&&t.showNumbersCount<_.value?(l=Math.max(d.value-Math.floor(t.showNumbersCount/2),1),i=l+t.showNumbersCount-1,i>_.value&&(i=_.value,l=i-t.showNumbersCount+1)):(l=1,i=_.value),Array.from(Array(i+1-l).keys()).map(a=>l+a)}),he=()=>{var l,i;let a=t.rows||[];if(!t.isServerMode){if((l=t.columns)==null||l.forEach(o=>{o.filter&&(o.value!==void 0&&o.value!==null&&o.value!==""||o.condition==="is_null"||o.condition=="is_not_null")&&(o.type==="string"?(o.value&&!o.condition&&(o.condition="contain"),o.condition==="contain"?a=a.filter(c=>{var y;return(y=b(c,o.field))==null?void 0:y.toString().toLowerCase().includes(o.value.toLowerCase())}):o.condition==="not_contain"?a=a.filter(c=>{var y;return!((y=b(c,o.field))!=null&&y.toString().toLowerCase().includes(o.value.toLowerCase()))}):o.condition==="equal"?a=a.filter(c=>{var y;return((y=b(c,o.field))==null?void 0:y.toString().toLowerCase())===o.value.toLowerCase()}):o.condition==="not_equal"?a=a.filter(c=>{var y;return((y=b(c,o.field))==null?void 0:y.toString().toLowerCase())!==o.value.toLowerCase()}):o.condition=="start_with"?a=a.filter(c=>{var y;return((y=b(c,o.field))==null?void 0:y.toString().toLowerCase().indexOf(o.value.toLowerCase()))===0}):o.condition=="end_with"&&(a=a.filter(c=>{var y;return((y=b(c,o.field))==null?void 0:y.toString().toLowerCase().substr(o.value.length*-1))===o.value.toLowerCase()}))):o.type==="number"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))===parseFloat(o.value)):o.condition==="not_equal"?a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))!==parseFloat(o.value)):o.condition==="greater_than"?a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))>parseFloat(o.value)):o.condition==="greater_than_equal"?a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))>=parseFloat(o.value)):o.condition==="less_than"?a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))<parseFloat(o.value)):o.condition==="less_than_equal"&&(a=a.filter(c=>b(c,o.field)&&parseFloat(b(c,o.field))<=parseFloat(o.value)))):o.type==="date"?(o.value&&!o.condition&&(o.condition="equal"),o.condition==="equal"?a=a.filter(c=>b(c,o.field)&&ne(b(c,o.field))===o.value):o.condition==="not_equal"?a=a.filter(c=>b(c,o.field)&&ne(b(c,o.field))!==o.value):o.condition==="greater_than"?a=a.filter(c=>b(c,o.field)&&ne(b(c,o.field))>o.value):o.condition==="less_than"&&(a=a.filter(c=>b(c,o.field)&&ne(b(c,o.field))<o.value))):o.type==="bool"&&(a=a.filter(c=>b(c,o.field)===o.value)),o.condition==="is_null"?(a=a.filter(c=>b(c,o.field)==null||b(c,o.field)==""),o.value=""):o.condition==="is_not_null"&&(o.value="",a=a.filter(c=>b(c,o.field))))}),T.value&&a.length){let o=[];const c=(t.columns||[]).filter(y=>y.search&&!y.hide).map(y=>y.field);for(var k=0;k<a.length;k++)for(var B=0;B<c.length;B++)if((i=b(a[k],c[B]))!=null&&i.toString().toLowerCase().includes(T.value.toLowerCase())){o.push(a[k]);break}a=o}var ie=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});const Oe=N.value==="desc"?-1:1;a.sort((o,c)=>{var y,ke;const Ue=(y=z.value)==null?void 0:y.split(".").reduce((W,ce)=>W==null?void 0:W[ce],o),Ie=(ke=z.value)==null?void 0:ke.split(".").reduce((W,ce)=>W==null?void 0:W[ce],c);return ie.compare(Ue,Ie)*Oe})}return a},P=()=>{let l=[],i=he();t.isServerMode?(w.value=t.totalRows||0,l=i):(w.value=i.length||0,l=i.slice(de.value-1,ve.value)),n.value=l||[]};U(()=>t.loading,()=>{R.value=t.loading});const pe=l=>{l?H.value===l.field?H.value=null:H.value=l.field:H.value=null},qe=()=>{if(d.value==1)return!1;d.value--},$e=l=>{d.value=l},Be=()=>{if(d.value>=_.value)return!1;d.value++};U(()=>d.value,()=>{O(!1),t.isServerMode?J("page"):(P(),e("pageChange",d.value))}),U(()=>t.rows,()=>{t.isServerMode||(d.value=1),O(!1),P()}),U(()=>p.value,()=>{O(!1),t.isServerMode?d.value===1?J("pagesize",!0):d.value=1:(d.value=1,P(),e("pageSizeChange",p.value))});const me=l=>{let i="asc";l==z.value&&N.value==="asc"&&(i="desc");let a=(d.value-1)*p.value,k=p.value;z.value=l,N.value=i,O(!1),P(),t.isServerMode?J("sort"):e("sortChange",{offset:a,limit:k,field:l,direction:i})},fe=l=>{F.value=l.length&&n.value.length&&l.length===n.value.length;const i=n.value.filter((a,k)=>L.value.includes(M.value?a[M.value]:k));e("rowSelect",i)};U(()=>L.value,fe);const O=l=>{l?L.value=n.value.map((i,a)=>M.value?i[M.value]:a):L.value=[]},be=()=>{O(!1),t.isServerMode?d.value===1?J("filter",!0):d.value=1:(d.value=1,P(),e("filterChange",t.columns))},Ae=()=>{O(!1),t.isServerMode?d.value===1?J("search",!0):d.value=1:(d.value=1,P(),e("searchChange",T.value))};U(()=>t.search,()=>{T.value=t.search,Ae()});const b=(l,i)=>i==null?void 0:i.split(".").reduce((a,k)=>a==null?void 0:a[k],l),ne=l=>{try{if(!l)return"";const i=new Date(l),a=i.getDate(),k=i.getMonth()+1;return i.getFullYear()+"-"+(k>9?k:"0"+k)+"-"+(a>9?a:"0"+a)}catch{}return""},ze=(l,i)=>{V.value++,V.value===1?K.value=setTimeout(()=>{V.value=0,t.selectRowOnClick&&(oe(i)?Ce(i):ge(i),fe(L.value)),e("rowClick",l)},le.value):V.value===2&&(clearTimeout(K.value),V.value=0,e("rowDBClick",l))},J=(l,i=!1)=>{if(t.isServerMode){De();const a={current_page:i?1:d.value,pagesize:p.value,offset:(d.value-1)*p.value,sort_column:z.value,sort_direction:N.value,search:T.value,column_filters:t.columns,change_type:l};e("change",a)}},De=()=>{for(let l=0;l<t.columns.length;l++){let i=t.columns[l];i.filter&&(i.value!==void 0&&i.value!==null&&i.value!==""||i.condition==="is_null"||i.condition==="is_not_null")&&(i.type==="string"&&i.value&&!i.condition&&(i.condition="contain"),i.type==="number"&&i.value&&!i.condition&&(i.condition="equal"),i.type==="date"&&i.value&&!i.condition&&(i.condition="equal"))}},Ne=()=>{O(!1);for(let l=0;l<t.columns.length;l++)t.columns[l]=te[l];T.value="",p.value=j,z.value=Z,N.value=q,t.isServerMode?d.value===1?J("reset",!0):d.value=1:(d.value=1,P())},Re=()=>n.value.filter((l,i)=>L.value.includes(M.value?l[M.value]:i)),Te=()=>t.columns,He=()=>{L.value=[]},ge=l=>{if(!oe(l)){const i=n.value.find((a,k)=>k===l);L.value.push(M.value?i[M.value]:l)}},Ce=l=>{if(oe(l)){const i=n.value.find((a,k)=>k===l);L.value=L.value.filter(a=>a!==(M.value?i[M.value]:l))}},oe=l=>{const i=n.value.find((a,k)=>k===l);return i?L.value.includes(M.value?i[M.value]:l):!1};return(l,i)=>(r(),u("div",nl,[s("div",{class:h(["bh-table-responsive",{"bh-min-h-[300px]":R.value}]),style:Fe({height:t.stickyHeader&&t.height})},[s("table",{class:h([t.skin])},[s("thead",{class:h({"bh-sticky bh-top-0 bh-z-10":t.stickyHeader})},[$(ye,{all:t,currentSortColumn:z.value,currentSortDirection:N.value,isOpenFilter:H.value,checkAll:F.value,columnFilterLang:t.columnFilterLang,onSelectAll:O,onSortChange:me,onFilterChange:be,onToggleFilterMenu:pe},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll","columnFilterLang"])],2),s("tbody",null,[w.value?(r(!0),u(A,{key:0},G(n.value,(a,k)=>(r(),u("tr",{key:a[D(M)]?a[D(M)]:k,class:h([typeof t.rowClass=="function"?g.rowClass(a):t.rowClass,t.selectRowOnClick?"bh-cursor-pointer":""]),onClick:ee(B=>ze(a,k),["prevent"])},[t.hasCheckbox?(r(),u("td",{key:0,class:h({"bh-sticky bh-left-0 bh-bg-blue-light":t.stickyFirstColumn})},[s("div",il,[E(s("input",{"onUpdate:modelValue":i[0]||(i[0]=B=>L.value=B),type:"checkbox",value:a[D(M)]?a[D(M)]:k,onClick:i[1]||(i[1]=ee(()=>{},["stop"]))},null,8,sl),[[je,L.value]]),s("div",null,[$(Se,{class:"check"})])])],2)):x("",!0),(r(!0),u(A,null,G(t.columns,(B,ie)=>(r(),u(A,null,[B.hide?x("",!0):(r(),u("td",{key:B.field,class:h([typeof t.cellClass=="function"?g.cellClass(a):t.cellClass,ie===0&&t.stickyFirstColumn?"bh-sticky bh-left-0 bh-bg-blue-light":"",t.hasCheckbox&&ie===0&&t.stickyFirstColumn?"bh-left-[52px]":"",B.cellClass?B.cellClass:""])},[D(f)[B.field]?we(l.$slots,B.field,{key:0,value:a}):B.cellRenderer?(r(),u("div",{key:1,innerHTML:B.cellRenderer(a)},null,8,rl)):(r(),u(A,{key:2},[Le(m(b(a,B.field)),1)],64))],2))],64))),256))],10,ol))),128)):x("",!0),!w.value&&!R.value?(r(),u("tr",ul,[s("td",{colspan:t.columns.length+1},m(t.noDataContent),9,cl)])):x("",!0),!w.value&&R.value?(r(!0),u(A,{key:2},G(t.pageSize,a=>(r(),u("tr",{key:a,class:"!bh-bg-white bh-h-11 !bh-border-transparent"},[s("td",{colspan:t.columns.length+1,class:"!bh-p-0 !bh-border-transparent"},hl,8,dl)]))),128)):x("",!0)]),t.cloneHeaderInFooter?(r(),u("tfoot",{key:0,class:h({"bh-sticky bh-bottom-0":t.stickyHeader})},[$(ye,{all:t,currentSortColumn:z.value,currentSortDirection:N.value,isOpenFilter:H.value,isFooter:!0,checkAll:F.value,onSelectAll:O,onSortChange:me,onFilterChange:be,onToggleFilterMenu:pe},null,8,["currentSortColumn","currentSortDirection","isOpenFilter","checkAll"])],2)):x("",!0)],2),w.value&&R.value?(r(),u("div",pl,[$(al)])):x("",!0)],6),t.pagination&&w.value?(r(),u("div",{key:0,class:h(["bh-pagination bh-py-5",{"bh-pointer-events-none":R.value}])},[s("div",ml,[s("div",fl,[s("span",bl,m(ae(t.paginationInfo,w.value?D(de):0,D(ve),w.value)),1),t.showPageSize?E((r(),u("select",{key:0,"onUpdate:modelValue":i[2]||(i[2]=a=>p.value=a),class:"bh-pagesize"},[(r(!0),u(A,null,G(t.pageSizeOptions,a=>(r(),u("option",{value:a,key:a},m(a),9,gl))),128))],512)),[[xe,p.value]]):x("",!0)]),s("div",Cl,[t.showFirstPage?(r(),u("button",{key:0,type:"button",class:h(["bh-page-item first-page",{disabled:d.value<=1}]),onClick:i[3]||(i[3]=a=>d.value=1)},[t.firstArrow?(r(),u("span",{key:0,innerHTML:t.firstArrow},null,8,kl)):(r(),u("svg",_l,wl))],2)):x("",!0),s("button",{type:"button",class:h(["bh-page-item previous-page",{disabled:d.value<=1}]),onClick:qe},[t.previousArrow?(r(),u("span",{key:0,innerHTML:t.previousArrow},null,8,Ll)):(r(),u("svg",Fl,Sl))],2),t.showNumbers?(r(!0),u(A,{key:1},G(D(Me),a=>(r(),u("button",{key:a,type:"button",class:h(["bh-page-item",{disabled:d.value===a,"bh-active":a===d.value}]),onClick:k=>$e(a)},m(a),11,Ml))),128)):x("",!0),s("button",{type:"button",class:h(["bh-page-item next-page",{disabled:d.value>=D(_)}]),onClick:Be},[t.nextArrow?(r(),u("span",{key:0,innerHTML:t.nextArrow},null,8,ql)):(r(),u("svg",$l,Al))],2),t.showLastPage?(r(),u("button",{key:2,type:"button",class:h(["bh-page-item last-page",{disabled:d.value>=D(_)}]),onClick:i[4]||(i[4]=a=>d.value=D(_))},[t.lastArrow?(r(),u("span",{key:0,innerHTML:t.lastArrow},null,8,zl)):(r(),u("svg",Dl,Rl))],2)):x("",!0)])])],2)):x("",!0)]))}});const Hl=["placeholder"],Ol=I({__name:"Searchbar",emits:["searchCallback"],setup(g,{emit:v}){const e=v,C=S("");return U(C,()=>{e("searchCallback",C.value)}),(t,f)=>E((r(),u("input",{type:"text",class:"form-input",placeholder:t.$t("searchTable"),"onUpdate:modelValue":f[0]||(f[0]=n=>C.value=n)},null,8,Hl)),[[se,C.value]])}}),Ul={key:1,class:"flex flex-col gap-2"},Il={class:"mt-2 mb-2 mx-auto w-1/2"},Vl={class:"flex flex-row gap-1"},Jl=I({__name:"StandardTable",props:{route:String,pushRoute:String},setup(g){const v=Ke().t,e=Object(We("request")),C=g,t=Xe(),f=S(!0),n=S(""),d=S([{field:"nome",title:v("name"),headerClass:"semibold uppercase dark:text-white"},{field:"ativo",title:"status",headerClass:"semibold uppercase dark:text-white"},{field:"created_at",title:v("created_at"),headerClass:"semibold uppercase dark:text-white"},{field:"updated_at",title:v("updated_at"),headerClass:"semibold uppercase dark:text-white"},{field:"btn",title:v("actions"),headerClass:"semibold uppercase dark:text-white"}]),p=S([]),j=async()=>{await e.get(`${C.route}`).then(q=>q.data.status?p.value=q.data.content:Q.mensagemToast(q.data.status,q.data.messageCode)).finally(()=>{f.value=!1})},z=async(q,w)=>{await Q.confirmToast("Alterar status ?")&&await e.put(`${C.route}/${q}`,{ativo:!w}).then(F=>{Q.mensagemToast(F.data.status,F.data.message)}).finally(()=>f.value=!0)},Z=async q=>{await Q.confirmToast("Deletar item ?")&&await e.del(`${C.route}/${q}`).then(L=>{Q.mensagemToast(L.data.status,L.data.message)}).finally(()=>f.value=!0)},N=q=>{t.push(`${C.pushRoute}/${q}`)};return U(f,(q,w)=>{q&&!w&&j()}),re(()=>{j()}),(q,w)=>{var L;return r(),u(A,null,[f.value?(r(),Ye(et,{key:0})):(r(),u("div",Ul,[s("div",Il,[$(Ol,{onSearchCallback:w[0]||(w[0]=F=>n.value=F)})]),$(D(Tl),{skin:"bh-table-striped dark:text-white",rows:p.value,columns:d.value,search:n.value,sortable:!0,totalRows:(L=p.value)==null?void 0:L.length},{created_at:Y(F=>[$(_e,{date:F.value.created_at},null,8,["date"])]),updated_at:Y(F=>[$(_e,{date:F.value.updated_at},null,8,["date"])]),ativo:Y(F=>[$(dt,{status:F.value.ativo,onClick:R=>z(F.value.id,F.value.ativo)},null,8,["status","onClick"])]),btn:Y(F=>[s("div",Vl,[$(Qe,{class:"basis-2/4",text:"seeMore",typeClass:"btn-primary",onActionCallback:R=>N(F.value.id)},null,8,["onActionCallback"]),$(tt,{class:"basis-1/4",typeClass:"btn-dark ",onActionCallback:R=>Z(F.value.id)},{icon:Y(()=>[$(rt)]),_:2},1032,["onActionCallback"])])]),_:1},8,["rows","columns","search","totalRows"])])),$(bt)],64)}}});export{Jl as _};
